# Базы данных, их типы. Сергей Миронов-SYS-20.  
  

# Задание 1. СУБД  

Кейс  
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.  

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?  

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных. 

Реляционные типы БД. Они обеспечивают наилучшую согласованность и доступность, данные организованы в табличной структуре. Например, Postgresql, MySQL, Oracle  

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?  

СУБД типа NOSQL, ключ-значение. Они обеспечивают быстрый доступ к данным, т.к. ключи уникальные и возвращают только одно значение. Их применяют в кэшировании. Например, Redis.  

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.  

Для лендингов можно использовать документо-ориентированные NOSQL, их недостаток в избыточности данных, но объем данных в примере будет небольшой. Например, MongoDB. Или же легковесную встраиваемую реляционную SQLite.  

Для CRM лучше использовать реляционную СУБД вроде Postgres, т.к. она обеспечивает наилучшую согласованность и доступность.  

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?  

Да, реляционной БД с поддержкой json. PostgresQL+json, Oracle (SODA), MySQL с поддержкой json.  

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.  

Если данные относительно небольшие и структура проекта простая, то можно использовать реляционную БД
При сложной и объемной структуре данных лучше применить NOSQL, вроде MongoDB, т.к. она обеспечит лучшую производительность. MongoDB рекомендуют использовать там, где существует потребность в сложных выборках.  

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?  

Если структура данных относительно небольшая и простая, то можно добавить новые таблицы в существующую реляционную БД. Это обеспечит простую и понятную структуру данных и позволит использовать уже имеющиеся инструменты для работы с БД.  

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.  

Для такой задачи можно использовать NOSQL графовую БД, которая оптимизирована для работы со связями. Логистика часто имеет дело с сложными связями поставщиков, транспортных маршрутов, складов, клиентов. Графовая СУБД позволит эффективно моделировать и анализировать всё это.  

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?  

Для отдела закупок лучше создать отдельную СУБД, так как их требования будут отличаться от отдела логистов.. Вместо того, чтобы подключать их к графовой СУБД логистов, лучше создать отдельную СУБД для отдела закупок и синхронизировать необходимые таблицы/коллекции данных.  

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?  

Нет, задачи слишком разные (лендинг, CRM, логистика и т.п.). Лучше выбрать оптимальный вариант СУБД под каждую отдельную задачу.  

Приведите ответ в свободной форме.  


# Задание 2 Транзакции  
2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.  

Пользователь отправляет запрос на пополнение баланса.  
Система отправляет запрос на СУБД для проверки доступных средств на счете пользователя.  
СУБД выполняет операцию чтения, чтобы получить текущий баланс счёта пользователя.  
СУБД проверяет, достаточно ли средств на счете пользователя для выполнения операции.  
Если средств достаточно, СУБД выполняет операцию записи для обновления баланса счёта пользователя и регистрирует успешную транзакцию.  
СУБД возвращает подтверждение о выполнении операции.  

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?  

Всё тоже самое, только вместо первого пункта - система автоматически активирует это по расписанию.  

Приведите ответ в свободной форме.  


# Задание 3. SQL vs NoSQL  
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.  

Предопределенная структура и заданные схемы  
Согласованность данных  
Универсальный SQL язык запросов к БД  
Соответствие принципам ACID  
Развитая экосистема и обилие инструментов, фреймворков для работы с ними.  

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.  

Как сказано в определении - этот тип баз данных предоставляет масштабируемость на уровне NOSQL, при этом соответствуя принципам ACID, которые характерны для реляционных БД  

NewSQL системы позволяют эффективно масштабировать горизонтально и вертикально, обеспечивая высокую производительность и согласованность данных.
Приведите ответ в свободной форме.    


# Задание 4. Кластеры  
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.  

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?  

NOSQL бд, т.к. они лучше справляются с горизонтальным масштабированием и обработкой распределенных вычислений. Например, Cassandra.  

Приведите ответ в свободной форме.  
